{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAOC,SAASC,cAAc,QAC9BC,EAAaF,SAASC,cAAc,uBACpCE,EAAYH,SAASC,cAAc,sBACnCG,EAAcJ,SAASC,cAAc,wBAGvCI,GAFcL,SAASC,cAAc,UAE3B,MACVK,EAAU,GACV,EAAe,EACfC,EAAM,EACNC,EAAa,EAqBjB,SAASC,EAAcC,EAAUC,GAC/B,IAAQC,EAAiBN,EAAjBM,KAAMC,EAAWP,EAAXO,OAEbN,GAAM,GADP,GAAe,KAGIM,GAAYC,cAChBT,GAEf,IAAMU,EAAgBC,KAAKC,SAAW,GAWpC,OAVc,IAAIC,SAAQ,SAACC,EAASC,GAChCL,EACFI,EAAQE,QAAQC,IAAI,uBAAmCC,OAAVhB,EAAI,QAAiBgB,OAAXf,EAAW,QAEhEY,EAAKC,QAAQC,IAAI,sBAAkCC,OAAVhB,EAAI,QAAiBgB,OAAXf,EAAW,WAI5DgB,MAAK,SAAAC,G,OAAWC,EAAA7B,GAAS8B,OAAOF,QAAQ,uBAAmCF,OAAVhB,EAAI,QAAiBgB,OAAXf,EAAW,UAAMoB,OAAM,SAAAC,G,OAASH,EAAA7B,GAAS8B,OAAOG,QAAQ,sBAAgCP,OAAVhB,EAAI,QAAiBgB,OAAXf,EAAW,UAE7KA,GAAcI,EAtCzBb,EAAKgC,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAIC,iBAOJ,IAAQtB,GALRL,EAAU,CACRK,MAAOuB,OAAOhC,EAAWiC,OACzBvB,KAAMsB,OAAO/B,EAAUgC,OACvBtB,OAAQqB,OAAO9B,EAAY+B,SAErBxB,MAAOC,EAASN,EAATM,KAEfJ,EAAaG,EAEQyB,YAAW,WAC9B/B,EAAUgC,YAAY5B,EAAeG,EAAML,EAAKC,KAC/CG,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\nimport \"notiflix/dist/notiflix-3.2.5.min.css\";\n\nconst form = document.querySelector('form')\nconst inputDelay = document.querySelector('input[name = delay]');\nconst inputStep = document.querySelector('input[name = step]');\nconst inputAmount = document.querySelector('input[name = amount]');\nconst btnSubmit = document.querySelector('button');\n\nlet timerId = null;\nlet options = {};\nlet quantityСounter = 0;\nlet pos = 0;\nlet finalDelay = 0;\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(evt) {\n  evt.preventDefault();\n\n  options = {\n    delay: Number(inputDelay.value),\n    step: Number(inputStep.value),\n    amount: Number(inputAmount.value)\n  };\n  const { delay, step } = options;\n\n  finalDelay = delay;\n\n  const firstDelayId = setTimeout(() => {\n    timerId = setInterval(createPromise, step, pos, finalDelay);\n  }, delay)\n}\n\nfunction createPromise(position, delay) {\n  const { step, amount } = options;\n  quantityСounter += 1;\n  pos += 1;\n\n  if (quantityСounter === amount) {\n    clearInterval(timerId);\n  }\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve(console.log(`✅ Fulfilled promise ${pos} in ${finalDelay}ms`));\n    } else {\n      reject(console.log(`❌ Rejected promise ${pos} in ${finalDelay}ms`));\n  }\n  })\n\n  promise.then(success => Notiflix.Notify.success(`✅ Fulfilled promise ${pos} in ${finalDelay}ms`)).catch(error => Notiflix.Notify.failure(`❌ Rejected promise ${pos} in ${finalDelay}ms`));\n\n  return finalDelay += step\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputDelay","$ce04d3a99e08e73b$var$inputStep","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$timerId","$ce04d3a99e08e73b$var$options","$ce04d3a99e08e73b$var$pos","$ce04d3a99e08e73b$var$finalDelay","$ce04d3a99e08e73b$var$createPromise","position","delay","step","amount","clearInterval","shouldResolve","Math","random","Promise","resolve","reject","console","log","concat","then","success","$parcel$interopDefault","Notify","catch","error","failure","addEventListener","evt","preventDefault","Number","value","setTimeout","setInterval"],"version":3,"file":"03-promises.ba2b901e.js.map"}